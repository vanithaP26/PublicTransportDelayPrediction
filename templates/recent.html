{% extends "base.html" %}
{% block content %}
<div style="max-width:1000px;margin:auto;background:#fff;border:1px solid #eef2ff;border-radius:12px;box-shadow:0 2px 10px rgba(0,0,0,.08);">
  <div style="display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid #eef2ff;">
    <h2 style="margin:0;color:#0f172a">Recent</h2>
    <form method="post" action="{{ url_for('recent_clear') }}" onsubmit="return confirm('Clear all history?')">
      <button class="btn btn-primary">Clear All</button>
    </form>
  </div>

  <table style="width:100%;border-collapse:collapse;">
    <thead>
      <tr style="background:#eef4ff;">
        <th style="padding:10px;text-align:left;">ID</th>
        <th style="padding:10px;text-align:left;">Time</th>
        <th style="padding:10px;text-align:left;">Source</th>
        <th style="padding:10px;text-align:left;">Destination</th>
        <th style="padding:10px;text-align:left;">Road (km)</th>
        <th style="padding:10px;text-align:left;">Feature</th>
        <th style="padding:10px;text-align:left;">Action</th>
      </tr>
    </thead>
    <tbody>
      {% for r in rows %}
      <tr style="border-bottom:1px solid #eee;">
        <td style="padding:8px;">{{ r[0] }}</td>
        <td style="padding:8px;">{{ r[1] }}</td>
        <td style="padding:8px;">{{ r[2] }}</td>
        <td style="padding:8px;">{{ r[3] }}</td>
        <td style="padding:8px;">{{ r[4] }}</td>
        <td style="padding:8px;"><span class="pill">{{ r[5] or 'public' }}</span></td>
        <td style="padding:8px;">
          <form method="post" action="{{ url_for('recent_delete', sid=r[0]) }}" onsubmit="return confirm('Delete this trip?')" style="display:inline;">
            <button class="btn btn-primary">Delete</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<style>
  .pill{display:inline-block;background:#eef2ff;color:#1e3a8a;border:1px solid #c7d2fe;border-radius:999px;padding:2px 8px;font-size:12px}
</style>
{% endblock %}
