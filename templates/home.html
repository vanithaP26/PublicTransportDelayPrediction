{% extends "base.html" %}
{% block content %}

<!-- HERO -->
<div style="max-width:1200px;margin:auto;display:grid;grid-template-columns:1.2fr .8fr;gap:24px;align-items:center;">
  <div>
    <h1 style="margin:0 0 10px;color:#0f172a;line-height:1.15;">
      Predict delays for <span style="color:#2563eb;">Public Transport</span><br/>
      with smart Walk & Cab suggestions
    </h1>
    <p style="color:#475569;margin:10px 0 16px;">
      Karnataka coverage · Bengaluru-first search · Realistic routes & ETAs ·
      Only the modes actually available between your locations.
    </p>
    <div style="display:flex;gap:10px;flex-wrap:wrap;">
      <a class="btn btn-primary" href="{{ url_for('plan') }}">Plan a Trip</a>
      <a class="btn btn-primary" href="{{ url_for('dashboard') }}">Open Dashboard</a>
      <a class="btn" style="background:#e2e8f0;color:#0f172a" href="{{ url_for('recent') }}">Recent</a>
    </div>

    <!-- Quick try chips -->
    <div style="margin-top:18px;">
      <div style="color:#64748b;font-size:13px;margin-bottom:6px;">Try a quick route:</div>
      <div style="display:flex;gap:8px;flex-wrap:wrap;">
        <button class="chip" onclick="quickPlan('Majestic, Bengaluru','Indiranagar, Bengaluru')">Majestic → Indiranagar</button>
        <button class="chip" onclick="quickPlan('Silk Board, Bengaluru','KR Puram, Bengaluru')">Silk Board → KR Puram</button>
        <button class="chip" onclick="quickPlan('Mysuru Junction','Mandya Bus Stand')">Mysuru Jn → Mandya</button>
        <button class="chip" onclick="quickPlan('Hebbal, Bengaluru','Yeshwanthpur, Bengaluru')">Hebbal → Yeshwanthpur</button>
      </div>
    </div>
  </div>

  <!-- Visual -->
  <div style="position:relative;border-radius:16px;overflow:hidden;border:1px solid #eef2ff;box-shadow:0 10px 30px rgba(2,6,23,.08);">
    <img
      src="https://images.unsplash.com/photo-1548359638-82d4d8cf9d44?q=80&w=1200&auto=format&fit=crop"
      alt="City transport"
      style="width:100%;height:100%;object-fit:cover;">
    <div style="position:absolute;left:12px;bottom:12px;background:rgba(15,23,42,.6);color:#fff;padding:10px 12px;border-radius:12px;">
      Bengaluru-first geocoding · Karnataka only
    </div>
  </div>
</div>

<!-- FEATURES -->
<div style="max-width:1200px;margin:28px auto 0;display:grid;grid-template-columns:repeat(3,1fr);gap:16px;">
  <div class="card">
    <div class="card-title">Only available modes</div>
    <p style="color:#475569;margin:8px 0 0;">
      We auto-filter Bus/Metro/Train based on route feasibility and station proximity.
      If nothing direct exists, you’ll see a friendly hint to try a nearby hub.
    </p>
  </div>
  <div class="card">
    <div class="card-title">Smart Suggestions</div>
    <p style="color:#475569;margin:8px 0 0;">
      If the trip is short or faster by foot, we suggest <b>Walk</b>. If a nearby
      road route saves time (or no PT is found), we suggest <b>Cab</b>—as cards on the result page.
    </p>
  </div>
  <div class="card">
    <div class="card-title">Dashboard insights</div>
    <p style="color:#475569;margin:8px 0 0;">
      Your predictions power the dashboard—see average times, delays and mode share,
      filter by date range and modes for clarity.
    </p>
  </div>
</div>

<style>
  .card{
    background:#fff;border-radius:16px;padding:16px 18px 18px;
    box-shadow:0 12px 28px rgba(2,6,23,.07), 0 2px 8px rgba(2,6,23,.05);
    border:1px solid #eef2ff;
  }
  .card-title{font-weight:600;color:#0f172a}
  .chip{
    border:1px solid #c7d2fe;background:#eef2ff;color:#1e3a8a;
    padding:8px 12px;border-radius:999px;cursor:pointer;font-size:13px;
  }
  @media (max-width: 980px){
    .card-grid{grid-template-columns:1fr}
  }
</style>

<script>
  // Prefill plan form via localStorage and go to /plan
  function quickPlan(src, dst){
    localStorage.setItem('plan_source', src);
    localStorage.setItem('plan_destination', dst);
    // keep previously set date/hour if user has them, or leave blank
    window.location.href = "{{ url_for('plan') }}";
  }
</script>

{% endblock %}
